<!--
Sync Impact Report
==================
バージョン変更: なし（初期作成） → 1.0.0
追加セクション:
  - Core Principles (5原則)
  - 技術スタック
  - 開発ワークフロー
  - Governance
削除セクション: なし
テンプレート更新:
  ✅ .specify/templates/plan-template.md - 憲章チェック対応済み
  ✅ .specify/templates/spec-template.md - 変更不要
  ✅ .specify/templates/tasks-template.md - 変更不要
フォローアップTODO: なし
-->

# kuku_syuriken 憲章

## Core Principles

### I. クリーンアーキテクチャ

アプリケーションはレイヤー分離を厳格に守り、依存性の方向を制御する。

- **Presentation層**: UI/Widget、状態管理（BLoC/Riverpod等）
- **Domain層**: ビジネスロジック、UseCase、Entity（フレームワーク非依存）
- **Data層**: リポジトリ実装、データソース、API/DB接続

**ルール**:
- Domain層は他のどの層にも依存してはならない
- Data層からDomain層への依存はインターフェース経由のみ
- Presentation層はDomain層のUseCaseを通じてのみビジネスロジックにアクセスする

### II. ゲーム体験優先

ユーザー体験とパフォーマンスを最優先する。

- 60fps維持を常に意識した実装を行う
- アニメーションやインタラクションの滑らかさを重視する
- 重い処理はIsolateやcompute関数で分離する

### III. シンプルさ優先

過剰な抽象化や先回り設計を避け、必要なものだけを実装する。

- YAGNI（You Aren't Gonna Need It）原則を守る
- 3回同じパターンが出るまで抽象化しない
- 複雑さを追加する前に、よりシンプルな解決策がないか検討する

### IV. テスタビリティ

テスト可能な設計を維持する。

- 依存性注入（DI）を活用し、モック可能な設計にする
- ビジネスロジックはWidgetから分離してユニットテスト可能にする
- 外部依存（API、ストレージ）は抽象化してテスト時に差し替え可能にする

### V. 段階的品質向上

初期は動くコードを優先し、必要に応じて品質を向上させる。

- まず動作する最小限の実装を行う
- リファクタリングは機能追加とは別のタイミングで行う
- 技術的負債は意識的に管理し、適切なタイミングで解消する

## 技術スタック

| カテゴリ | 技術 |
|---------|------|
| フレームワーク | Flutter |
| 言語 | Dart (SDK ^3.10.4) |
| プラットフォーム | iOS |
| テスト | flutter_test |
| リンター | flutter_lints |

## 開発ワークフロー

### コード品質

- `flutter analyze` でリント警告をゼロに保つ
- 新機能追加時はユニットテストを追加することを推奨（必須ではない）
- PRレビューでアーキテクチャ原則への準拠を確認する

### ブランチ戦略

- `main`: 安定版ブランチ
- 機能開発は機能ブランチで行い、PRでマージする

## Governance

この憲章はプロジェクトの開発指針として機能する。

**改訂プロセス**:
1. 憲章の変更提案はPRとして提出する
2. 変更内容を明文化し、影響範囲を説明する
3. 承認後、バージョンを更新して反映する

**バージョニング**:
- MAJOR: 原則の削除や根本的な変更
- MINOR: 新しい原則やセクションの追加
- PATCH: 文言の明確化や誤字修正

**Version**: 1.0.0 | **Ratified**: 2025-12-27 | **Last Amended**: 2025-12-27
